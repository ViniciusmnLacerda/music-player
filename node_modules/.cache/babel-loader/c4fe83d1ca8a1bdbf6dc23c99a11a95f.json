{"ast":null,"code":"var _jsxFileName = \"/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTunes/music-player/src/pages/Search.jsx\";\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../Styles/Search.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonSearchIsDisabled: true,\n      searchArtist: '',\n      response: [],\n      render: false,\n      artistResearched: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.onClickSearch = this.onClickSearch.bind(this);\n    this.renderAlbums = this.renderAlbums.bind(this);\n  }\n\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      name,\n      value\n    } = target;\n    this.setState({\n      [name]: value\n    }, this.validate);\n  }\n\n  async onClickSearch(event) {\n    this.setState({\n      render: false\n    });\n    event.preventDefault();\n    const {\n      searchArtist\n    } = this.state;\n    const response = await searchAlbumsAPI(searchArtist);\n    this.setState({\n      artistResearched: searchArtist,\n      searchArtist: '',\n      response,\n      buttonSearchIsDisabled: true,\n      render: true\n    });\n  }\n\n  validate() {\n    const {\n      searchArtist\n    } = this.state;\n    const disabled = searchArtist.length < 2;\n    this.setState({\n      buttonSearchIsDisabled: disabled\n    });\n  }\n\n  renderAlbums() {\n    const {\n      response\n    } = this.state;\n\n    if (response.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"failed-request\",\n        children: \"No albums found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    }\n\n    return response.map(album => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"album-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-img\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/album/${album.collectionId}`,\n          \"data-testid\": `link-to-album-${album.collectionId}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: album.artworkUrl100,\n            alt: album.collectionName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-collection\",\n          children: album.collectionName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"card-name\",\n          children: album.artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, album.collectionId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this));\n  }\n\n  render() {\n    const {\n      buttonSearchIsDisabled,\n      searchArtist,\n      render,\n      artistResearched\n    } = this.state;\n    const {\n      match\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-container\",\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        path: match.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"search-form\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"searchArtist\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"search-artist-input\",\n              placeholder: \"Artist Name\",\n              type: \"text\",\n              name: \"searchArtist\",\n              id: \"searchArtist\",\n              onChange: this.handleChange,\n              value: searchArtist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              \"data-testid\": \"search-artist-button\",\n              disabled: buttonSearchIsDisabled,\n              onClick: this.onClickSearch,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"albuns-container\",\n          children: render && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"albuns-cards-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: artistResearched\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cards-container\",\n              children: this.renderAlbums()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nSearch.propTypes = {\n  match: propTypes.shape({\n    url: propTypes.string.isRequired\n  }).isRequired\n};\nexport default Search;","map":{"version":3,"names":["propTypes","React","Link","Header","searchAlbumsAPI","Search","Component","constructor","state","buttonSearchIsDisabled","searchArtist","response","render","artistResearched","handleChange","bind","validate","onClickSearch","renderAlbums","target","name","value","setState","event","preventDefault","disabled","length","map","album","collectionId","artworkUrl100","collectionName","artistName","match","props","url","shape","string","isRequired"],"sources":["/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTunes/music-player/src/pages/Search.jsx"],"sourcesContent":["import propTypes from 'prop-types';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport '../Styles/Search.css';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonSearchIsDisabled: true,\n      searchArtist: '',\n      response: [],\n      render: false,\n      artistResearched: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.onClickSearch = this.onClickSearch.bind(this);\n    this.renderAlbums = this.renderAlbums.bind(this);\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.validate);\n  }\n\n  async onClickSearch(event) {\n    this.setState({ render: false });\n    event.preventDefault();\n    const { searchArtist } = this.state;\n    const response = await searchAlbumsAPI(searchArtist);\n    this.setState({\n      artistResearched: searchArtist,\n      searchArtist: '',\n      response,\n      buttonSearchIsDisabled: true,\n      render: true,\n    });\n  }\n\n  validate() {\n    const { searchArtist } = this.state;\n    const disabled = searchArtist.length < 2;\n    this.setState({ buttonSearchIsDisabled: disabled });\n  }\n\n  renderAlbums() {\n    const { response } = this.state;\n    if (response.length === 0) {\n      return (\n        <p className=\"failed-request\">No albums found.</p>\n      );\n    }\n    return (response.map((album) => (\n      <div className=\"album-card\" key={album.collectionId}>\n        <div className=\"card-img\">\n          <Link\n            to={`/album/${album.collectionId}`}\n            data-testid={`link-to-album-${album.collectionId}`}\n          >\n            <img\n              src={album.artworkUrl100}\n              alt={album.collectionName}\n            />\n          </Link>\n        </div>\n        <div className=\"card-content\">\n          <p className=\"card-collection\">{ album.collectionName }</p>\n          <p className=\"card-name\">{ album.artistName }</p>\n        </div>\n      </div>\n    )));\n  }\n\n  render() {\n    const {\n      buttonSearchIsDisabled, searchArtist, render, artistResearched,\n    } = this.state;\n    const { match } = this.props;\n    return (\n      <div className=\"search-container\" data-testid=\"page-search\">\n        <Header path={match.url} />\n        <div className=\"search-content\">\n          <form className=\"search-form\">\n            <label htmlFor=\"searchArtist\">\n              <input\n                data-testid=\"search-artist-input\"\n                placeholder=\"Artist Name\"\n                type=\"text\"\n                name=\"searchArtist\"\n                id=\"searchArtist\"\n                onChange={this.handleChange}\n                value={searchArtist}\n              />\n              <button\n                type=\"submit\"\n                data-testid=\"search-artist-button\"\n                disabled={buttonSearchIsDisabled}\n                onClick={this.onClickSearch}\n              >\n                Search\n              </button>\n            </label>\n          </form>\n          <div className=\"albuns-container\">\n            {render && (\n            <div className=\"albuns-cards-container\">\n              <span>\n                { artistResearched }\n              </span>\n              <div className=\"cards-container\">\n                { this.renderAlbums() }\n              </div>\n            </div>\n\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSearch.propTypes = {\n  match: propTypes.shape({\n    url: propTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}