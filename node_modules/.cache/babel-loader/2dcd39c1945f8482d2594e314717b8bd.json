{"ast":null,"code":"var _jsxFileName = \"/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTubes/music-player/src/pages/Search.jsx\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonSearchIsDisabled: true,\n      searchArtist: '',\n      response: [],\n      render: false,\n      artistResearched: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.onClickSearch = this.onClickSearch.bind(this);\n    this.renderAlbums = this.renderAlbums.bind(this);\n  }\n\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      name,\n      value\n    } = target;\n    this.setState({\n      [name]: value\n    }, this.validate);\n  }\n\n  async onClickSearch(event) {\n    this.setState({\n      render: false\n    });\n    event.preventDefault();\n    const {\n      searchArtist\n    } = this.state;\n    const response = await searchAlbumsAPI(searchArtist);\n    this.setState({\n      artistResearched: searchArtist,\n      searchArtist: '',\n      response,\n      buttonSearchIsDisabled: true,\n      render: true\n    });\n  }\n\n  validate() {\n    const {\n      searchArtist\n    } = this.state;\n    const disabled = searchArtist.length < 2;\n    this.setState({\n      buttonSearchIsDisabled: disabled\n    });\n  }\n\n  renderAlbums() {\n    const {\n      response\n    } = this.state;\n\n    if (response.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum \\xE1lbum foi encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this);\n    }\n\n    return response.map(album => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/album/${album.collectionId}`,\n          \"data-testid\": `link-to-album-${album.collectionId}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: album.artworkUrl100,\n            alt: album.collectionName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: album.collectionName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: album.artistName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, album.collectionId, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this));\n  }\n\n  render() {\n    const {\n      buttonSearchIsDisabled,\n      searchArtist,\n      render,\n      artistResearched\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"searchArtist\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              \"data-testid\": \"search-artist-input\",\n              placeholder: \"Nome do Artista\",\n              type: \"text\",\n              name: \"searchArtist\",\n              id: \"searchArtist\",\n              onChange: this.handleChange,\n              value: searchArtist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            \"data-testid\": \"search-artist-button\",\n            disabled: buttonSearchIsDisabled,\n            onClick: this.onClickSearch,\n            children: \"Pesquisar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), render && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Resultado de \\xE1lbuns de:\", ' ', artistResearched]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), this.renderAlbums()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Search;","map":{"version":3,"names":["React","Link","Header","searchAlbumsAPI","Search","Component","constructor","state","buttonSearchIsDisabled","searchArtist","response","render","artistResearched","handleChange","bind","validate","onClickSearch","renderAlbums","target","name","value","setState","event","preventDefault","disabled","length","map","album","collectionId","artworkUrl100","collectionName","artistName"],"sources":["/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTubes/music-player/src/pages/Search.jsx"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nclass Search extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      buttonSearchIsDisabled: true,\n      searchArtist: '',\n      response: [],\n      render: false,\n      artistResearched: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n    this.onClickSearch = this.onClickSearch.bind(this);\n    this.renderAlbums = this.renderAlbums.bind(this);\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({ [name]: value }, this.validate);\n  }\n\n  async onClickSearch(event) {\n    this.setState({ render: false });\n    event.preventDefault();\n    const { searchArtist } = this.state;\n    const response = await searchAlbumsAPI(searchArtist);\n    this.setState({\n      artistResearched: searchArtist,\n      searchArtist: '',\n      response,\n      buttonSearchIsDisabled: true,\n      render: true,\n    });\n  }\n\n  validate() {\n    const { searchArtist } = this.state;\n    const disabled = searchArtist.length < 2;\n    this.setState({ buttonSearchIsDisabled: disabled });\n  }\n\n  renderAlbums() {\n    const { response } = this.state;\n    if (response.length === 0) {\n      return (\n        <p>Nenhum álbum foi encontrado</p>\n      );\n    }\n    return (response.map((album) => (\n      <div key={ album.collectionId }>\n        <div>\n          <Link\n            to={ `/album/${album.collectionId}` }\n            data-testid={ `link-to-album-${album.collectionId}` }\n          >\n            <img\n              src={ album.artworkUrl100 }\n              alt={ album.collectionName }\n            />\n          </Link>\n        </div>\n        <div>\n          <p>{ album.collectionName }</p>\n          <p>{ album.artistName }</p>\n        </div>\n      </div>\n    )));\n  }\n\n  render() {\n    const { buttonSearchIsDisabled, searchArtist, render, artistResearched } = this.state;\n    return (\n      <div data-testid=\"page-search\">\n        <div>\n          <Header />\n        </div>\n        <div>\n          <form>\n            <label htmlFor=\"searchArtist\">\n              <input\n                data-testid=\"search-artist-input\"\n                placeholder=\"Nome do Artista\"\n                type=\"text\"\n                name=\"searchArtist\"\n                id=\"searchArtist\"\n                onChange={ this.handleChange }\n                value={ searchArtist }\n              />\n            </label>\n            <button\n              type=\"submit\"\n              data-testid=\"search-artist-button\"\n              disabled={ buttonSearchIsDisabled }\n              onClick={ this.onClickSearch }\n            >\n              Pesquisar\n            </button>\n          </form>\n        </div>\n        {render && (\n          <div>\n            <span>\n              Resultado de álbuns de:\n              {' '}\n              { artistResearched }\n            </span>\n            { this.renderAlbums() }\n          </div>)}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}