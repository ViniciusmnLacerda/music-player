{"ast":null,"code":"var _jsxFileName = \"/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTunes/music-player/src/pages/ProfileEdit.jsx\";\nimport propTypes from 'prop-types';\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../Styles/ProfileEdit.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isButtonSaveDisabled: true,\n      name: '',\n      email: '',\n      image: '',\n      description: ''\n    };\n    this.onClickSaveButton = this.onClickSaveButton.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: true\n    }, async () => {\n      const recovered = await getUser();\n      const {\n        name,\n        email,\n        image,\n        description\n      } = recovered;\n      this.setState({\n        loading: false,\n        name,\n        email,\n        image,\n        description\n      }, this.validate);\n    });\n  }\n\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      name,\n      value\n    } = target;\n    this.setState({\n      [name]: value\n    }, this.validate);\n  }\n\n  async onClickSaveButton(event) {\n    event.preventDefault();\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    this.setState({\n      loading: true\n    }, async () => {\n      await updateUser({\n        name,\n        email,\n        image,\n        description\n      });\n      const {\n        history\n      } = this.props;\n      history.push('/profile');\n    });\n  }\n\n  validate() {\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    const arrayValidate = [name.length > 0, email.length > 0, image.length > 0, description.length > 0].every(Boolean);\n    this.setState({\n      isButtonSaveDisabled: !arrayValidate\n    });\n  }\n\n  render() {\n    const {\n      isButtonSaveDisabled,\n      name,\n      email,\n      image,\n      description,\n      loading\n    } = this.state;\n    const {\n      match\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-profile-edit\",\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        path: match.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-edit-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"card-profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"img-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image === '' ? '/user.svg' : image,\n              alt: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                autoComplete: \"off\",\n                \"data-testid\": \"edit-input-image\",\n                placeholder: \"Image URL\",\n                type: \"text\",\n                name: \"image\",\n                id: \"image\",\n                value: image,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                \"data-testid\": \"edit-input-name\",\n                type: \"text\",\n                name: \"name\",\n                id: \"name\",\n                value: name,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"E-mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                \"data-testid\": \"edit-input-email\",\n                type: \"email\",\n                name: \"email\",\n                id: \"email\",\n                value: email,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"textarea-input\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                \"data-testid\": \"edit-input-description\",\n                name: \"description\",\n                id: \"description\",\n                cols: \"30\",\n                rows: \"10\",\n                value: description,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-button\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              \"data-testid\": \"edit-button-save\",\n              disabled: isButtonSaveDisabled,\n              onClick: this.onClickSaveButton,\n              children: \"Save\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: propTypes.shape({\n    push: propTypes.func.isRequired\n  }).isRequired,\n  match: propTypes.shape({\n    url: propTypes.string.isRequired\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["propTypes","React","Header","Loading","getUser","updateUser","ProfileEdit","Component","constructor","state","loading","isButtonSaveDisabled","name","email","image","description","onClickSaveButton","bind","handleChange","validate","componentDidMount","setState","recovered","target","value","event","preventDefault","history","props","push","arrayValidate","length","every","Boolean","render","match","url","shape","func","isRequired","string"],"sources":["/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTunes/music-player/src/pages/ProfileEdit.jsx"],"sourcesContent":["import propTypes from 'prop-types';\nimport React from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport '../Styles/ProfileEdit.css';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isButtonSaveDisabled: true,\n      name: '',\n      email: '',\n      image: '',\n      description: '',\n    };\n    this.onClickSaveButton = this.onClickSaveButton.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true }, async () => {\n      const recovered = await getUser();\n      const {\n        name, email, image, description,\n      } = recovered;\n      this.setState({\n        loading: false,\n        name,\n        email,\n        image,\n        description,\n      }, this.validate);\n    });\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, this.validate);\n  }\n\n  async onClickSaveButton(event) {\n    event.preventDefault();\n    const {\n      name, email, image, description,\n    } = this.state;\n    this.setState({ loading: true }, async () => {\n      await updateUser({\n        name, email, image, description,\n      });\n      const { history } = this.props;\n      history.push('/profile');\n    });\n  }\n\n  validate() {\n    const {\n      name, email, image, description,\n    } = this.state;\n    const arrayValidate = [\n      name.length > 0,\n      email.length > 0,\n      image.length > 0,\n      description.length > 0]\n      .every(Boolean);\n    this.setState({ isButtonSaveDisabled: !arrayValidate });\n  }\n\n  render() {\n    const {\n      isButtonSaveDisabled, name, email,\n      image, description, loading,\n    } = this.state;\n    const { match } = this.props;\n    return (\n      <div className=\"page-profile-edit\" data-testid=\"page-profile-edit\">\n        <Header path={match.url} />\n        {loading ? (\n          <Loading />\n        ) : (\n          <div className=\"profile-edit-container\">\n            <form className=\"card-profile\">\n              <div className=\"img-input\">\n                <img\n                  src={image === '' ? '/user.svg' : image}\n                  alt={name}\n                />\n                <label htmlFor=\"image\">\n                  <input\n                    autoComplete=\"off\"\n                    data-testid=\"edit-input-image\"\n                    placeholder=\"Image URL\"\n                    type=\"text\"\n                    name=\"image\"\n                    id=\"image\"\n                    value={image}\n                    onChange={this.handleChange}\n                  />\n                </label>\n              </div>\n              <div className=\"text-input\">\n                <h2>Name</h2>\n                <label htmlFor=\"name\">\n                  <input\n                    data-testid=\"edit-input-name\"\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    value={name}\n                    onChange={this.handleChange}\n                  />\n                </label>\n              </div>\n              <div className=\"text-input\">\n                <h2>E-mail</h2>\n                <label htmlFor=\"email\">\n                  <input\n                    data-testid=\"edit-input-email\"\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    value={email}\n                    onChange={this.handleChange}\n                  />\n                </label>\n              </div>\n              <div className=\"textarea-input\">\n                <h2>Description</h2>\n                <label htmlFor=\"description\">\n                  <textarea\n                    data-testid=\"edit-input-description\"\n                    name=\"description\"\n                    id=\"description\"\n                    cols=\"30\"\n                    rows=\"10\"\n                    value={description}\n                    onChange={this.handleChange}\n                  />\n                </label>\n              </div>\n              <div className=\"edit-button\">\n                <button\n                  type=\"submit\"\n                  data-testid=\"edit-button-save\"\n                  disabled={isButtonSaveDisabled}\n                  onClick={this.onClickSaveButton}\n                >\n                  Save\n                </button>\n              </div>\n            </form>\n          </div>\n        )}\n\n      </div>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: propTypes.shape({\n    push: propTypes.func.isRequired,\n  }).isRequired,\n  match: propTypes.shape({\n    url: propTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}