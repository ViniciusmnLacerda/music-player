{"ast":null,"code":"var _jsxFileName = \"/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTubes/music-player/src/pages/ProfileEdit.jsx\";\nimport React from 'react';\nimport propTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isButtonSaveDisabled: true,\n      name: '',\n      email: '',\n      image: '',\n      description: ''\n    };\n    this.onClickSaveButton = this.onClickSaveButton.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({\n      loading: true\n    }, async () => {\n      const recovered = await getUser();\n      const {\n        name,\n        email,\n        image,\n        description\n      } = recovered;\n      this.setState({\n        loading: false,\n        name,\n        email,\n        image,\n        description\n      }, this.validate);\n    });\n  }\n\n  handleChange(_ref) {\n    let {\n      target\n    } = _ref;\n    const {\n      name,\n      value\n    } = target;\n    this.setState({\n      [name]: value\n    }, this.validate);\n  }\n\n  async onClickSaveButton(event) {\n    event.preventDefault();\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    this.setState({\n      loading: true\n    }, async () => {\n      await updateUser({\n        name,\n        email,\n        image,\n        description\n      });\n      const {\n        history\n      } = this.props;\n      history.push('/profile');\n    });\n  }\n\n  validate() {\n    const {\n      name,\n      email,\n      image,\n      description\n    } = this.state;\n    const arrayValidate = [name.length > 0, email.length > 0, image.length > 0, description.length > 0].every(Boolean);\n    this.setState({\n      isButtonSaveDisabled: !arrayValidate\n    });\n  }\n\n  render() {\n    const {\n      isButtonSaveDisabled,\n      name,\n      email,\n      image,\n      description,\n      loading\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-profile-edit\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: image,\n              alt: name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"image\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                \"data-testid\": \"edit-input-image\",\n                placeholder: \"Insira um link\",\n                type: \"text\",\n                name: \"image\",\n                id: \"image\",\n                value: image,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: [\"Nome\", /*#__PURE__*/_jsxDEV(\"input\", {\n                \"data-testid\": \"edit-input-name\",\n                type: \"text\",\n                name: \"name\",\n                id: \"name\",\n                value: name,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              children: [\"E-mail\", /*#__PURE__*/_jsxDEV(\"input\", {\n                \"data-testid\": \"edit-input-email\",\n                type: \"email\",\n                name: \"email\",\n                id: \"email\",\n                value: email,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"description\",\n              children: [\"Descri\\xE7\\xE3o\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n                \"data-testid\": \"edit-input-description\",\n                placeholder: \"Sobre mim\",\n                name: \"description\",\n                id: \"description\",\n                cols: \"30\",\n                rows: \"10\",\n                value: description,\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            \"data-testid\": \"edit-button-save\",\n            disabled: isButtonSaveDisabled,\n            onClick: this.onClickSaveButton,\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nProfileEdit.propTypes = {\n  history: propTypes.shape({\n    push: propTypes.func.isRequired\n  }).isRequired\n};\nexport default ProfileEdit;","map":{"version":3,"names":["React","propTypes","Header","Loading","getUser","updateUser","ProfileEdit","Component","constructor","state","loading","isButtonSaveDisabled","name","email","image","description","onClickSaveButton","bind","handleChange","validate","componentDidMount","setState","recovered","target","value","event","preventDefault","history","props","push","arrayValidate","length","every","Boolean","render","shape","func","isRequired"],"sources":["/home/viniciuslacerda/Dev/projects/Bloco 12 - TrybeTubes/music-player/src/pages/ProfileEdit.jsx"],"sourcesContent":["import React from 'react';\nimport propTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser, updateUser } from '../services/userAPI';\n\nclass ProfileEdit extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: false,\n      isButtonSaveDisabled: true,\n      name: '',\n      email: '',\n      image: '',\n      description: '',\n    };\n    this.onClickSaveButton = this.onClickSaveButton.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.validate = this.validate.bind(this);\n  }\n\n  async componentDidMount() {\n    this.setState({ loading: true }, async () => {\n      const recovered = await getUser();\n      const { name, email, image, description } = recovered;\n      this.setState({\n        loading: false,\n        name,\n        email,\n        image,\n        description,\n      }, this.validate);\n    });\n  }\n\n  handleChange({ target }) {\n    const { name, value } = target;\n    this.setState({\n      [name]: value,\n    }, this.validate);\n  }\n\n  async onClickSaveButton(event) {\n    event.preventDefault();\n    const { name, email, image, description } = this.state;\n    this.setState({ loading: true }, async () => {\n      await updateUser({ name, email, image, description });\n      const { history } = this.props;\n      history.push('/profile');\n    });\n  }\n\n  validate() {\n    const { name, email, image, description } = this.state;\n    const arrayValidate = [\n      name.length > 0,\n      email.length > 0,\n      image.length > 0,\n      description.length > 0]\n      .every(Boolean);\n    this.setState({ isButtonSaveDisabled: !arrayValidate });\n  }\n\n  render() {\n    const { isButtonSaveDisabled, name, email,\n      image, description, loading } = this.state;\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n        {loading ? (\n          <Loading />\n        ) : (\n          <div>\n            <form>\n              <div>\n                <img\n                  src={ image }\n                  alt={ name }\n                />\n                <label htmlFor=\"image\">\n                  <input\n                    data-testid=\"edit-input-image\"\n                    placeholder=\"Insira um link\"\n                    type=\"text\"\n                    name=\"image\"\n                    id=\"image\"\n                    value={ image }\n                    onChange={ this.handleChange }\n                  />\n                </label>\n              </div>\n              <div>\n                <label htmlFor=\"name\">\n                  Nome\n                  <input\n                    data-testid=\"edit-input-name\"\n                    type=\"text\"\n                    name=\"name\"\n                    id=\"name\"\n                    value={ name }\n                    onChange={ this.handleChange }\n                  />\n                </label>\n              </div>\n              <div>\n                <label htmlFor=\"email\">\n                  E-mail\n                  <input\n                    data-testid=\"edit-input-email\"\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    value={ email }\n                    onChange={ this.handleChange }\n                  />\n                </label>\n              </div>\n              <div>\n                <label htmlFor=\"description\">\n                  Descrição\n                  <textarea\n                    data-testid=\"edit-input-description\"\n                    placeholder=\"Sobre mim\"\n                    name=\"description\"\n                    id=\"description\"\n                    cols=\"30\"\n                    rows=\"10\"\n                    value={ description }\n                    onChange={ this.handleChange }\n                  />\n                </label>\n              </div>\n            </form>\n            <div>\n              <button\n                type=\"submit\"\n                data-testid=\"edit-button-save\"\n                disabled={ isButtonSaveDisabled }\n                onClick={ this.onClickSaveButton }\n              >\n                Salvar\n              </button>\n            </div>\n          </div>\n        )}\n\n      </div>\n    );\n  }\n}\n\nProfileEdit.propTypes = {\n  history: propTypes.shape({\n    push: propTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default ProfileEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}